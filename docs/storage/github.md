---
title: GitHub
createTime: 2025/11/09 00:26:55
permalink: /storage/github
---
# GitHub å­˜å‚¨é…ç½®æŒ‡å—

ä½¿ç”¨ GitHub ä»“åº“ä½œä¸ºå­˜å‚¨åç«¯çš„è¯¦ç»†é…ç½®ã€‚

## æ¦‚è¿°

GitHub å­˜å‚¨æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å…è´¹å­˜å‚¨æ–¹æ¡ˆï¼Œåˆ©ç”¨ GitHub ä»“åº“æ¥å­˜å‚¨æ–‡ä»¶ï¼š

- ğŸ’š å®Œå…¨å…è´¹ï¼ˆé€šè¿‡ GitHubï¼‰
- ğŸ“ è‡ªåŠ¨ç‰ˆæœ¬æ§åˆ¶
- ğŸ” ç§å¯†ä»“åº“æ”¯æŒ
- ğŸŒ å…¨çƒè®¿é—®
- ğŸ“¦ ä¾¿äºå¤‡ä»½å’Œè¿ç§»

## ä¸ºä»€ä¹ˆé€‰æ‹© GitHub å­˜å‚¨ï¼Ÿ

### ä¼˜åŠ¿

1. **å®Œå…¨å…è´¹** - æ— éœ€ä»˜è´¹ï¼Œåˆ©ç”¨ GitHub å­˜å‚¨ç©ºé—´
2. **è‡ªåŠ¨ç‰ˆæœ¬æ§åˆ¶** - æ‰€æœ‰æ–‡ä»¶è‡ªåŠ¨ä¿å­˜ç‰ˆæœ¬å†å²
3. **å†…ç½®æƒé™ç®¡ç†** - åˆ©ç”¨ GitHub çš„è®¿é—®æƒé™ç³»ç»Ÿ
4. **æ˜“äºå¤‡ä»½** - é€šè¿‡ Git å¯ä»¥è½»æ¾å¤‡ä»½å’Œè¿ç§»
5. **å¼€å‘è€…å‹å¥½** - ä¸ Git å·¥ä½œæµå®Œç¾é›†æˆ

### é™åˆ¶

- ä»“åº“å¤§å°å»ºè®®ä¸è¶…è¿‡ 1GB
- æ–‡ä»¶å¤§å°å»ºè®®ä¸è¶…è¿‡ 100MB
- ä¸é€‚åˆå¤§è§„æ¨¡äºŒè¿›åˆ¶æ–‡ä»¶å­˜å‚¨

### æ¨èç”¨é€”

- ğŸ“„ æ–‡æ¡£å’Œæ–‡æœ¬æ–‡ä»¶
- ğŸ–¼ï¸ åšå®¢å’Œç½‘ç«™å›¾ç‰‡
- ğŸ”§ é…ç½®æ–‡ä»¶
- ğŸ“‹ CSV æ•°æ®æ–‡ä»¶
- ğŸ¯ å¼€æºé¡¹ç›®èµ„æº

## è´¦æˆ·è®¾ç½®

### 1. åˆ›å»º GitHub è´¦æˆ·

å¦‚æœè¿˜æ²¡æœ‰ GitHub è´¦æˆ·ï¼Œè®¿é—® [GitHub](https://github.com/signup) åˆ›å»ºä¸€ä¸ªå…è´¹è´¦æˆ·ã€‚

### 2. åˆ›å»ºä»“åº“

1. ç™»å½• GitHub
2. ç‚¹å‡» "+" å›¾æ ‡ â†’ "New repository"
3. è¾“å…¥ä»“åº“åç§°ï¼ˆä¾‹å¦‚ `my-storage`ï¼‰
4. é€‰æ‹© "Private"ï¼ˆç§å¯†ï¼‰æˆ– "Public"ï¼ˆå…¬å¼€ï¼‰
5. **ä¸è¦** åˆå§‹åŒ– README
6. ç‚¹å‡» "Create repository"

## ç”Ÿæˆ Personal Access Token

### 1. åˆ›å»º Token

1. ç™»å½• GitHub
2. è¿›å…¥ Settings â†’ Developer settings â†’ Personal access tokens
3. ç‚¹å‡» "Generate new token"ï¼ˆé€‰æ‹© "Tokens (classic)"ï¼‰
4. è¾“å…¥ Token åç§°ï¼ˆä¾‹å¦‚ `cloud-index`ï¼‰
5. é€‰æ‹©è¿‡æœŸæ—¶é—´ï¼ˆæ¨è "90 days" æˆ– "No expiration"ï¼‰

### 2. è®¾ç½®æƒé™

é€‰æ‹©ä»¥ä¸‹æƒé™ï¼š

- âœ… **repo** - å®Œæ•´æ§åˆ¶ç§æœ‰ä»“åº“ï¼ˆåŒ…æ‹¬æ‰€æœ‰å­æƒé™ï¼‰
- âœ… **workflow** - æ›´æ–° GitHub Action å·¥ä½œæµ
- âŒ å…¶ä»–æƒé™ä¿æŒæœªå‹¾é€‰

### 3. ç”Ÿæˆå¹¶å¤åˆ¶ Token

1. ç‚¹å‡» "Generate token"
2. **ç«‹å³å¤åˆ¶ Token**ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰
3. ä¿å­˜åˆ°å®‰å…¨ä½ç½®

âš ï¸ **é‡è¦**: ä¸è¦åˆ†äº«ä½ çš„ Tokenï¼

## é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# å­˜å‚¨ç±»å‹
STORAGE_TYPE=github

# GitHub è´¦æˆ·ä¿¡æ¯
GITHUB_REPO_OWNER=your-username
GITHUB_REPO_NAME=my-storage
GITHUB_ACCESS_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# å¯é€‰ï¼šä½¿ç”¨çš„åˆ†æ”¯
GITHUB_BRANCH=main

# å¯é€‰ï¼šGitHub Raw å†…å®¹ä»£ç†ï¼ˆç”¨äºåŠ é€Ÿå›½å†…è®¿é—®ï¼‰
GITHUB_RAW_PROXY_URL=https://raw.ghproxy.com

# å¯é€‰ï¼šé¢„ç­¾å URL è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
GITHUB_PRESIGN_EXPIRES=3600
```

**é…ç½®è¯´æ˜ï¼š**

- `GITHUB_REPO_OWNER`: ä½ çš„ GitHub ç”¨æˆ·å
- `GITHUB_REPO_NAME`: åˆ›å»ºçš„ä»“åº“åç§°
- `GITHUB_ACCESS_TOKEN`: ç”Ÿæˆçš„ Personal Access Token
- `GITHUB_BRANCH`: é»˜è®¤ `main`ï¼ˆä»“åº“ä¸»åˆ†æ”¯ï¼‰
- `GITHUB_RAW_PROXY_URL`: å¯é€‰ï¼Œç”¨äºåŠ é€Ÿè®¿é—®

## å›½å†…åŠ é€Ÿä»£ç†é…ç½®

ç”±äº GitHub åœ¨å›½å†…è®¿é—®é€Ÿåº¦è¾ƒæ…¢ï¼Œæ¨èä½¿ç”¨ä»£ç†åŠ é€Ÿï¼š

### æ¨èä»£ç†æœåŠ¡

```env
# GitHub å®˜æ–¹ï¼ˆæ— åŠ é€Ÿï¼‰
GITHUB_RAW_PROXY_URL=

# ghproxy.com - å›½å†…åŠ é€Ÿï¼ˆæ¨èï¼‰
GITHUB_RAW_PROXY_URL=https://raw.ghproxy.com

# ghproxy.net - å›½å†…åŠ é€Ÿ
GITHUB_RAW_PROXY_URL=https://ghproxy.net

# å…¶ä»–ä»£ç†æœåŠ¡
GITHUB_RAW_PROXY_URL=https://raw.fastgit.org
```

## åˆå§‹åŒ–ä»“åº“

é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œéœ€è¦åˆå§‹åŒ–ä»“åº“ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼š

```bash
# å…‹éš†ç©ºä»“åº“
git clone https://github.com/your-username/my-storage.git
cd my-storage

# åˆ›å»ºåˆå§‹æ–‡ä»¶
echo "# å­˜å‚¨ä»“åº“" > README.md
git add README.md
git commit -m "Initial commit"
git push -u origin main

# è¿”å› Cloud Index ç›®å½•
cd ../cloud-index
```

## æµ‹è¯•è¿æ¥

### æ–¹å¼ä¸€ï¼šå¯åŠ¨åº”ç”¨æµ‹è¯•

```bash
python app.py
```

è®¿é—® `http://localhost:5000`ï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ã€‚

### æ–¹å¼äºŒï¼šä½¿ç”¨ CLI æµ‹è¯•

```bash
# æµ‹è¯• Token æ˜¯å¦æœ‰æ•ˆ
curl -H "Authorization: token ghp_xxx" \
  https://api.github.com/repos/your-username/my-storage

# åº”è¯¥è¿”å›ä»“åº“ä¿¡æ¯
```

### æ–¹å¼ä¸‰ï¼šPython æµ‹è¯•

```python
import requests

token = "ghp_xxx"
repo_owner = "your-username"
repo_name = "my-storage"

headers = {
    "Authorization": f"token {token}",
    "Accept": "application/vnd.github.v3+json"
}

url = f"https://api.github.com/repos/{repo_owner}/{repo_name}/contents"
response = requests.get(url, headers=headers)

if response.status_code == 200:
    print("è¿æ¥æˆåŠŸï¼")
    print("ä»“åº“æ–‡ä»¶ï¼š")
    for item in response.json():
        print(f"  - {item['name']} ({item['type']})")
else:
    print(f"è¿æ¥å¤±è´¥ï¼é”™è¯¯ä»£ç ï¼š{response.status_code}")
```

## ç®¡ç†ä»“åº“

### é€šè¿‡ Cloud Index ç®¡ç†

åº”ç”¨æä¾›å®Œæ•´çš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½ï¼š

- ğŸ“ æµè§ˆæ–‡ä»¶å’Œæ–‡ä»¶å¤¹
- â¬†ï¸ ä¸Šä¼ æ–‡ä»¶
- ğŸ—‘ï¸ åˆ é™¤æ–‡ä»¶
- âœï¸ é‡å‘½åæ–‡ä»¶
- ğŸ“‚ åˆ›å»ºæ–°æ–‡ä»¶å¤¹

### é€šè¿‡ GitHub Web ç®¡ç†

1. è®¿é—®ä½ çš„ä»“åº“ä¸»é¡µ
2. ç‚¹å‡» "Add file" â†’ "Upload files"
3. é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶
4. ç‚¹å‡» "Commit changes"

### é€šè¿‡ Git å‘½ä»¤è¡Œç®¡ç†

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-username/my-storage.git
cd my-storage

# æ·»åŠ æ–‡ä»¶
cp /path/to/file .

# æäº¤æ›´æ”¹
git add .
git commit -m "Add new files"
git push

# åˆ é™¤æ–‡ä»¶
git rm filename
git commit -m "Remove file"
git push

# æŸ¥çœ‹å†å²
git log
```

## å¯ç”¨ç‰ˆæœ¬æ§åˆ¶ç‰¹æ€§

### æŸ¥çœ‹æ–‡ä»¶å†å²

1. åœ¨ GitHub Web ä¸Šæ‰“å¼€æ–‡ä»¶
2. ç‚¹å‡» "History"
3. æŸ¥çœ‹æ‰€æœ‰å†å²ç‰ˆæœ¬

### æ¢å¤æ—§ç‰ˆæœ¬æ–‡ä»¶

```bash
# æŸ¥çœ‹æ–‡ä»¶å†å²
git log -- filename

# æ¢å¤åˆ°ç‰¹å®šç‰ˆæœ¬
git checkout <commit-hash> -- filename

# æäº¤æ¢å¤
git commit -m "Restore filename to previous version"
git push
```

### æ ‡è®°å‘å¸ƒç‰ˆæœ¬

```bash
# åˆ›å»ºæ ‡ç­¾
git tag -a v1.0 -m "Release version 1.0"
git push origin v1.0

# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l
```

## ç”Ÿæˆå…¬å¼€è®¿é—® URL

### Raw æ–‡ä»¶ URL

æ–‡ä»¶ä¼šè‡ªåŠ¨é€šè¿‡ Raw GitHub URL è®¿é—®ï¼š

```
# å®˜æ–¹ URLï¼ˆå›½å¤–å¿«ï¼‰
https://raw.githubusercontent.com/your-username/my-storage/main/path/to/file

# ä½¿ç”¨ä»£ç†åŠ é€Ÿï¼ˆå›½å†…å¿«ï¼‰
https://raw.ghproxy.com/https://raw.githubusercontent.com/your-username/my-storage/main/path/to/file
```

### åœ¨åº”ç”¨ä¸­ç”Ÿæˆ

åœ¨ Cloud Index åº”ç”¨ä¸­ï¼š

1. ç‚¹å‡»æ–‡ä»¶
2. é€‰æ‹© "å¤åˆ¶é“¾æ¥"
3. åˆ†äº«é“¾æ¥ç»™ä»–äºº

## æœ€ä½³å®è·µ

### 1. å®‰å…¨æ€§

- âœ… ä½¿ç”¨ Personal Access Token è€Œéç”¨æˆ·å¯†ç 
- âœ… å®šæœŸè½®æ¢ Token
- âœ… ä¸º Token è®¾ç½®è¿‡æœŸæ—¶é—´
- âœ… ä¸è¦åˆ†äº« Token
- âœ… ä½¿ç”¨ç§å¯†ä»“åº“å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- âœ… ä¸è¦åœ¨å…¬å¼€ä»“åº“å­˜å‚¨ä¸ªäººæ•°æ®

### 2. æ€§èƒ½ä¼˜åŒ–

- âœ… ä½¿ç”¨å›½å†…ä»£ç†åŠ é€Ÿï¼ˆå¦‚ ghproxyï¼‰
- âœ… å®šæœŸæ¸…ç†ä¸éœ€è¦çš„æ–‡ä»¶
- âœ… åˆç†ç»„ç»‡æ–‡ä»¶ç»“æ„
- âœ… ä½¿ç”¨åˆ†æ”¯ç®¡ç†å¤§å‹é¡¹ç›®

### 3. ä»“åº“ç®¡ç†

- âœ… ä¿æŒä»“åº“å¤§å° < 1GB
- âœ… æ¯ä¸ªæ–‡ä»¶ < 100MB
- âœ… å®šæœŸæ¸…ç†å†å²ç‰ˆæœ¬
- âœ… ä½¿ç”¨ `.gitignore` æ’é™¤ä¸éœ€è¦çš„æ–‡ä»¶

### 4. å¤‡ä»½

- âœ… å®šæœŸå¤‡ä»½é‡è¦æ–‡ä»¶
- âœ… ä½¿ç”¨ Git æœ¬åœ°å¤‡ä»½
- âœ… å®šæœŸæ¨é€åˆ°å…¶ä»–æœåŠ¡ï¼ˆå¦‚ GitLabï¼‰

## é«˜çº§é…ç½®

### ä½¿ç”¨ GitHub Actions è‡ªåŠ¨åŒ–

å¯ä»¥åˆ›å»ºè‡ªåŠ¨åŒ–å·¥ä½œæµï¼ˆå¯é€‰ï¼‰ï¼š

```yaml
# .github/workflows/backup.yml
name: Daily Backup

on:
  schedule:
    - cron: '0 0 * * *'

jobs:
  backup:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Backup
        run: |
          # ä½ çš„å¤‡ä»½è„šæœ¬
          echo "Backup completed"
```

### ä½¿ç”¨åˆ†æ”¯éš”ç¦»ç¯å¢ƒ

ä¸ºä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒåˆ†æ”¯ï¼š

```bash
# åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b develop
git push -u origin develop

# åˆ›å»ºç”Ÿäº§åˆ†æ”¯
git checkout -b production
git push -u origin production
```

## æ–‡ä»¶å¤§å°é™åˆ¶å¤„ç†

å¦‚æœé‡åˆ°æ–‡ä»¶è¿‡å¤§ï¼ˆ> 100MBï¼‰ï¼š

### ä½¿ç”¨ Git LFS

```bash
# å®‰è£… Git LFS
git lfs install

# è¿½è¸ªå¤§æ–‡ä»¶
git lfs track "*.psd"
git add .gitattributes

# æäº¤æ–‡ä»¶
git add large-file.psd
git commit -m "Add large file"
git push
```

### åˆ†å‰²æ–‡ä»¶

```bash
# åˆ†å‰²å¤§æ–‡ä»¶
split -b 50M large-file.zip large-file.zip.part_

# ä¸Šä¼ åˆ†å‰²åçš„æ–‡ä»¶
git add large-file.zip.part_*
git commit -m "Add split files"
git push

# æ¢å¤æ—¶åˆå¹¶
cat large-file.zip.part_* > large-file.zip
```

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ›´æ–° Tokenï¼Ÿ

**A:**

1. ç”Ÿæˆæ–° Token
2. æ›´æ–° `.env` æ–‡ä»¶ä¸­çš„ `GITHUB_ACCESS_TOKEN`
3. é‡å¯åº”ç”¨

### Q: Token è¿‡æœŸäº†æ€ä¹ˆåŠï¼Ÿ

**A:**

1. è¿›å…¥ GitHub Settings
2. é‡æ–°ç”Ÿæˆ Token
3. æ›´æ–°åº”ç”¨é…ç½®

### Q: å¯ä»¥åœ¨ç»„ç»‡ä¸­ä½¿ç”¨å—ï¼Ÿ

**A:** å¯ä»¥ï¼Œé…ç½®ä»“åº“çš„æ‰€æœ‰è€…ä¸ºç»„ç»‡åå³å¯ï¼š

```env
GITHUB_REPO_OWNER=my-organization
```

### Q: ä»“åº“å¤§å°æœ‰é™åˆ¶å—ï¼Ÿ

**A:** GitHub å»ºè®®ä»“åº“ä¸è¶…è¿‡ 1GBã€‚å¦‚æœè¶…è¿‡ï¼š

1. æ¸…ç†ä¸éœ€è¦çš„å†å²ç‰ˆæœ¬
2. ä½¿ç”¨ Git LFS
3. åˆ†å‰²ä»“åº“

### Q: å¯ä»¥åœ¨å¤šä¸ªåº”ç”¨ä¸­ä½¿ç”¨åŒä¸€ä»“åº“å—ï¼Ÿ

**A:** å¯ä»¥ï¼Œä½†éœ€è¦æ³¨æ„å¹¶å‘å†²çªã€‚å»ºè®®ï¼š

1. ä¸ºæ¯ä¸ªç¯å¢ƒåˆ›å»ºä¸åŒçš„ä»“åº“
2. ä½¿ç”¨åˆ†æ”¯éš”ç¦»
3. å®šæœŸåŒæ­¥

## æ•…éšœæ’é™¤

### è¿æ¥å¤±è´¥

æ£€æŸ¥ï¼š

1. Token æ˜¯å¦æ­£ç¡®
2. ä»“åº“åç§°æ˜¯å¦æ­£ç¡®
3. ç”¨æˆ·åæ˜¯å¦æ­£ç¡®
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
5. Token æ˜¯å¦è¿‡æœŸ

### Token æ— æ•ˆ

è§£å†³æ–¹æ¡ˆï¼š

1. é‡æ–°ç”Ÿæˆ Token
2. ç¡®ä¿æœ‰ `repo` æƒé™
3. æ£€æŸ¥ Token æ˜¯å¦è¿‡æœŸ

### æ–‡ä»¶æ— æ³•è®¿é—®

æ£€æŸ¥ï¼š

1. ä»“åº“æ˜¯å¦å­˜åœ¨
2. æ–‡ä»¶æ˜¯å¦å·²æäº¤
3. æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„åˆ†æ”¯
4. ä»£ç† URL æ˜¯å¦æ­£ç¡®

### ä¸Šä¼ ç¼“æ…¢

ä¼˜åŒ–æ–¹æ¡ˆï¼š

1. é…ç½®å›½å†…ä»£ç†
2. åˆ†å‰²å¤§æ–‡ä»¶
3. æ£€æŸ¥ç½‘ç»œè¿æ¥
4. è€ƒè™‘ä½¿ç”¨å…¶ä»–å­˜å‚¨åç«¯

## ä¸å…¶ä»–å­˜å‚¨çš„å¯¹æ¯”

| ç‰¹æ€§ | GitHub | R2 | S3 |
|-----|--------|-----|-----|
| æˆæœ¬ | å…è´¹ | $0.36/ç™¾ä¸‡è¯·æ±‚ | $2-3/GB |
| æ–‡ä»¶å¤§å°é™åˆ¶ | 100MB | æ— é™ | 5TB |
| ä»“åº“å¤§å°é™åˆ¶ | 1GB | æ— é™ | æ— é™ |
| ç‰ˆæœ¬æ§åˆ¶ | âœ… | âŒ | âš ï¸ |
| é€‚åˆå¤§æ–‡ä»¶ | âŒ | âœ… | âœ… |

## æˆæœ¬ç¤ºä¾‹

æœˆå‡ä½¿ç”¨æƒ…å†µï¼š

| æŒ‡æ ‡ | æ•°å€¼ | è´¹ç”¨ |
|-----|------|------|
| å­˜å‚¨ | 500MB | å…è´¹ |
| è¯·æ±‚ | 10K | å…è´¹ |
| æµé‡ | 1GB | å…è´¹ |
| **æ€»è®¡** | - | **å®Œå…¨å…è´¹** âœ… |

## è·å–å¸®åŠ©

- ğŸ“– [GitHub API æ–‡æ¡£](https://docs.github.com/en/rest)
- ğŸ“– [GitHub ä»“åº“ç®¡ç†æŒ‡å—](https://docs.github.com/en/repositories)
- ğŸ› [æäº¤ Issue](https://github.com/RhenCloud/Cloud-Index/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/RhenCloud/Cloud-Index/discussions)

## ä¸‹ä¸€æ­¥

- ğŸš€ [å¿«é€Ÿå¼€å§‹](../guide/quickstart.md) - å¼€å§‹ä½¿ç”¨åº”ç”¨
- ğŸ“– [å­˜å‚¨åç«¯å¯¹æ¯”](./overview.md) - å¯¹æ¯”å…¶ä»–æœåŠ¡
- ğŸ’¾ [Cloudflare R2 é…ç½®](./r2.md) - R2 é…ç½®æŒ‡å—
